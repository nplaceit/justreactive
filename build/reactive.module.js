let computationId = 0;

class Computation {

    constructor(handler, thisObject) {
        this.handler = handler;
        this.handlerThisObject = thisObject;
        this._invalidateCallbacks = [];
        this.id = computationId++;
    }

    execute() {
        Reactive$1.active = false;
        this.handler.call(this.handlerThisObject);
        Reactive$1.active = true;
    }

    invalidate() {
        for (const handler of this._invalidateCallbacks) {
            handler(this);
        }
        this._invalidateCallbacks = [];
        this.execute();
    }

    onInvalidate(handler) {
        this._invalidateCallbacks.push(handler);
    }

}

Reactive$1.trackingActive = true;
Reactive$1.isRecomputing = false;

function Reactive$1(handler, thisObject) {
    if (Reactive$1.active) {
        Reactive$1.currentComputation = new Computation(handler, thisObject);
        Reactive$1.currentComputation.execute();
        Reactive$1.currentComputation = null;
    } else {
        handler();
    }
}

function notReactive(handler, thisObject) {

    if (Reactive$1.isRecomputing) {
        return;
    }

    const previousState = trackingActive;

    Reactive$1.trackingActive = false;

    handler.call(thisObject);

    Reactive$1.trackingActive = previousState;

}

Reactive$1.active = true;
Reactive$1.currentComputation = null;

class Dependency {

    constructor() {
        this.computations = {};
    }

    depends() {
        if (Reactive$1.trackingActive && Reactive$1.currentComputation && !(Reactive$1.currentComputation.id in this.computations)) {
            this.computations[Reactive$1.currentComputation.id] = Reactive$1.currentComputation;
            Reactive$1.currentComputation.onInvalidate(computation => {
                delete this.computations[computation.id];
            });
        }
    }

    changed() {
        for (const [, computation] of Object.entries(this.computations)) {

            const previousComputation = Reactive$1.currentComputation;
            const previouslyComputing = Reactive$1.isRecomputing;

            Reactive$1.isRecomputing = true;
            Reactive$1.currentComputation = computation;
            computation.invalidate();

            Reactive$1.currentComputation = previousComputation;
            Reactive$1.isRecomputing = previouslyComputing;

        }
    }

}

function reactiveProperty(object, name, defaultValue) {

    const dep = new Dependency;

    let val = defaultValue !== undefined ? defaultValue : object[name];

    Object.defineProperty(object, name, {
        set(v) {
            if (val !== v) {
                val = v;
                dep.changed();
            }
        },
        get() {
            dep.depends();
            return val;
        }
    });

    return defaultValue;

}

function reactiveObject(object = {}) {
    const newObject = {};
    for (const [property, value] of Object.entries(object)) {
        reactiveProperty(newObject, property, value);
    }
    return newObject;
}

function reactiveProxy(obj = {}) {

    obj = reactiveObject(obj);

    return new Proxy(obj, {
        get: function (target, name) {
            if (!(name in target)) {
                reactiveProperty(target, name);
            }
            return target[name];
        },
        set: function (target, name, value) {
            if (!(name in target)) {
                reactiveProperty(target, name, value);
            }
            return target[name] = value;
        }
    });

}

class ReactiveVar {

    constructor(defaultValue) {
        this.dependency = new Dependency;
        this.currentValue = defaultValue;
    }

    get() {
        this.dependency.depends();
        return this.currentValue;
    }

    set(val) {
        if (this.currentValue !== val) {
            this.currentValue = val;
            this.dependency.changed();
        }
    }

    valueOf() {
        return this.get();
    }

    toString() {
        return String(this.valueOf());
    }

}

//as modules
//export {Reactive as it, notReactive as not} from './Reactive';
//export {reactiveProperty as property} from "./reactiveProperty";
//export {reactiveObject as object} from "./reactiveObject";
//export {reactiveProxy as proxy} from "./reactiveProxy";
//export {ReactiveVar as Var} from "./reactiveVar";

Reactive$1.not = notReactive;
Reactive$1.property = reactiveProperty;
Reactive$1.object = reactiveObject;
Reactive$1.proxy = reactiveProxy;
Reactive$1.Var = ReactiveVar;
Reactive$1.Dependency = Dependency;

export default Reactive$1;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3RpdmUubW9kdWxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvQ29tcHV0YXRpb24uanMiLCIuLi9zcmMvUmVhY3RpdmUuanMiLCIuLi9zcmMvRGVwZW5kZW5jeS5qcyIsIi4uL3NyYy9yZWFjdGl2ZVByb3BlcnR5LmpzIiwiLi4vc3JjL3JlYWN0aXZlT2JqZWN0LmpzIiwiLi4vc3JjL3JlYWN0aXZlUHJveHkuanMiLCIuLi9zcmMvcmVhY3RpdmVWYXIuanMiLCIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWFjdGl2ZX0gZnJvbSAnLi9SZWFjdGl2ZSc7XG5cbmxldCBjb21wdXRhdGlvbklkID0gMDtcblxuY2xhc3MgQ29tcHV0YXRpb24ge1xuXG4gICAgY29uc3RydWN0b3IoaGFuZGxlciwgdGhpc09iamVjdCkge1xuICAgICAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICB0aGlzLmhhbmRsZXJUaGlzT2JqZWN0ID0gdGhpc09iamVjdDtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZUNhbGxiYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLmlkID0gY29tcHV0YXRpb25JZCsrO1xuICAgIH1cblxuICAgIGV4ZWN1dGUoKSB7XG4gICAgICAgIFJlYWN0aXZlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhbmRsZXIuY2FsbCh0aGlzLmhhbmRsZXJUaGlzT2JqZWN0KTtcbiAgICAgICAgUmVhY3RpdmUuYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpbnZhbGlkYXRlKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5faW52YWxpZGF0ZUNhbGxiYWNrcykge1xuICAgICAgICAgICAgaGFuZGxlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlQ2FsbGJhY2tzID0gW107XG4gICAgICAgIHRoaXMuZXhlY3V0ZSgpO1xuICAgIH1cblxuICAgIG9uSW52YWxpZGF0ZShoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVDYWxsYmFja3MucHVzaChoYW5kbGVyKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IHtDb21wdXRhdGlvbn07IiwiaW1wb3J0IHtDb21wdXRhdGlvbn0gZnJvbSBcIi4vQ29tcHV0YXRpb25cIjtcblxuUmVhY3RpdmUudHJhY2tpbmdBY3RpdmUgPSB0cnVlO1xuUmVhY3RpdmUuaXNSZWNvbXB1dGluZyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBSZWFjdGl2ZShoYW5kbGVyLCB0aGlzT2JqZWN0KSB7XG4gICAgaWYgKFJlYWN0aXZlLmFjdGl2ZSkge1xuICAgICAgICBSZWFjdGl2ZS5jdXJyZW50Q29tcHV0YXRpb24gPSBuZXcgQ29tcHV0YXRpb24oaGFuZGxlciwgdGhpc09iamVjdCk7XG4gICAgICAgIFJlYWN0aXZlLmN1cnJlbnRDb21wdXRhdGlvbi5leGVjdXRlKCk7XG4gICAgICAgIFJlYWN0aXZlLmN1cnJlbnRDb21wdXRhdGlvbiA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaGFuZGxlcigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbm90UmVhY3RpdmUoaGFuZGxlciwgdGhpc09iamVjdCkge1xuXG4gICAgaWYgKFJlYWN0aXZlLmlzUmVjb21wdXRpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB0cmFja2luZ0FjdGl2ZTtcblxuICAgIFJlYWN0aXZlLnRyYWNraW5nQWN0aXZlID0gZmFsc2U7XG5cbiAgICBoYW5kbGVyLmNhbGwodGhpc09iamVjdCk7XG5cbiAgICBSZWFjdGl2ZS50cmFja2luZ0FjdGl2ZSA9IHByZXZpb3VzU3RhdGU7XG5cbn1cblxuUmVhY3RpdmUuYWN0aXZlID0gdHJ1ZTtcblJlYWN0aXZlLmN1cnJlbnRDb21wdXRhdGlvbiA9IG51bGw7XG5cbmV4cG9ydCB7UmVhY3RpdmUsIG5vdFJlYWN0aXZlfTsiLCJpbXBvcnQge1JlYWN0aXZlfSBmcm9tIFwiLi9SZWFjdGl2ZVwiO1xuXG5jbGFzcyBEZXBlbmRlbmN5IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbXB1dGF0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIGRlcGVuZHMoKSB7XG4gICAgICAgIGlmIChSZWFjdGl2ZS50cmFja2luZ0FjdGl2ZSAmJiBSZWFjdGl2ZS5jdXJyZW50Q29tcHV0YXRpb24gJiYgIShSZWFjdGl2ZS5jdXJyZW50Q29tcHV0YXRpb24uaWQgaW4gdGhpcy5jb21wdXRhdGlvbnMpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXB1dGF0aW9uc1tSZWFjdGl2ZS5jdXJyZW50Q29tcHV0YXRpb24uaWRdID0gUmVhY3RpdmUuY3VycmVudENvbXB1dGF0aW9uO1xuICAgICAgICAgICAgUmVhY3RpdmUuY3VycmVudENvbXB1dGF0aW9uLm9uSW52YWxpZGF0ZShjb21wdXRhdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29tcHV0YXRpb25zW2NvbXB1dGF0aW9uLmlkXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hhbmdlZCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBbLCBjb21wdXRhdGlvbl0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5jb21wdXRhdGlvbnMpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQ29tcHV0YXRpb24gPSBSZWFjdGl2ZS5jdXJyZW50Q29tcHV0YXRpb247XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c2x5Q29tcHV0aW5nID0gUmVhY3RpdmUuaXNSZWNvbXB1dGluZztcblxuICAgICAgICAgICAgUmVhY3RpdmUuaXNSZWNvbXB1dGluZyA9IHRydWU7XG4gICAgICAgICAgICBSZWFjdGl2ZS5jdXJyZW50Q29tcHV0YXRpb24gPSBjb21wdXRhdGlvbjtcbiAgICAgICAgICAgIGNvbXB1dGF0aW9uLmludmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgUmVhY3RpdmUuY3VycmVudENvbXB1dGF0aW9uID0gcHJldmlvdXNDb21wdXRhdGlvbjtcbiAgICAgICAgICAgIFJlYWN0aXZlLmlzUmVjb21wdXRpbmcgPSBwcmV2aW91c2x5Q29tcHV0aW5nO1xuXG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IHtEZXBlbmRlbmN5fTsiLCJpbXBvcnQge0RlcGVuZGVuY3l9IGZyb20gXCIuL0RlcGVuZGVuY3lcIjtcblxuZnVuY3Rpb24gcmVhY3RpdmVQcm9wZXJ0eShvYmplY3QsIG5hbWUsIGRlZmF1bHRWYWx1ZSkge1xuXG4gICAgY29uc3QgZGVwID0gbmV3IERlcGVuZGVuY3k7XG5cbiAgICBsZXQgdmFsID0gZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiBvYmplY3RbbmFtZV07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBuYW1lLCB7XG4gICAgICAgIHNldCh2KSB7XG4gICAgICAgICAgICBpZiAodmFsICE9PSB2KSB7XG4gICAgICAgICAgICAgICAgdmFsID0gdjtcbiAgICAgICAgICAgICAgICBkZXAuY2hhbmdlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICBkZXAuZGVwZW5kcygpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcblxufVxuXG5leHBvcnQge3JlYWN0aXZlUHJvcGVydHl9OyIsImltcG9ydCB7cmVhY3RpdmVQcm9wZXJ0eX0gZnJvbSBcIi4vcmVhY3RpdmVQcm9wZXJ0eVwiO1xuXG5mdW5jdGlvbiByZWFjdGl2ZU9iamVjdChvYmplY3QgPSB7fSkge1xuICAgIGNvbnN0IG5ld09iamVjdCA9IHt9O1xuICAgIGZvciAoY29uc3QgW3Byb3BlcnR5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob2JqZWN0KSkge1xuICAgICAgICByZWFjdGl2ZVByb3BlcnR5KG5ld09iamVjdCwgcHJvcGVydHksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld09iamVjdDtcbn1cblxuZXhwb3J0IHtyZWFjdGl2ZU9iamVjdH07IiwiaW1wb3J0IHtyZWFjdGl2ZU9iamVjdH0gZnJvbSBcIi4vcmVhY3RpdmVPYmplY3RcIjtcbmltcG9ydCB7cmVhY3RpdmVQcm9wZXJ0eX0gZnJvbSBcIi4vcmVhY3RpdmVQcm9wZXJ0eVwiO1xuXG5mdW5jdGlvbiByZWFjdGl2ZVByb3h5KG9iaiA9IHt9KSB7XG5cbiAgICBvYmogPSByZWFjdGl2ZU9iamVjdChvYmopO1xuXG4gICAgcmV0dXJuIG5ldyBQcm94eShvYmosIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgICAgICBpZiAoIShuYW1lIGluIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICByZWFjdGl2ZVByb3BlcnR5KHRhcmdldCwgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0W25hbWVdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIShuYW1lIGluIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICByZWFjdGl2ZVByb3BlcnR5KHRhcmdldCwgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbn1cblxuZXhwb3J0IHtyZWFjdGl2ZVByb3h5fTsiLCJpbXBvcnQge0RlcGVuZGVuY3l9IGZyb20gXCIuL0RlcGVuZGVuY3lcIjtcblxuY2xhc3MgUmVhY3RpdmVWYXIge1xuXG4gICAgY29uc3RydWN0b3IoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jeSA9IG5ldyBEZXBlbmRlbmN5O1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB9XG5cbiAgICBnZXQoKSB7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jeS5kZXBlbmRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICB9XG5cbiAgICBzZXQodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZSAhPT0gdmFsKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHZhbDtcbiAgICAgICAgICAgIHRoaXMuZGVwZW5kZW5jeS5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YWx1ZU9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLnZhbHVlT2YoKSk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCB7UmVhY3RpdmVWYXJ9OyIsIi8vYXMgbW9kdWxlc1xuLy9leHBvcnQge1JlYWN0aXZlIGFzIGl0LCBub3RSZWFjdGl2ZSBhcyBub3R9IGZyb20gJy4vUmVhY3RpdmUnO1xuLy9leHBvcnQge3JlYWN0aXZlUHJvcGVydHkgYXMgcHJvcGVydHl9IGZyb20gXCIuL3JlYWN0aXZlUHJvcGVydHlcIjtcbi8vZXhwb3J0IHtyZWFjdGl2ZU9iamVjdCBhcyBvYmplY3R9IGZyb20gXCIuL3JlYWN0aXZlT2JqZWN0XCI7XG4vL2V4cG9ydCB7cmVhY3RpdmVQcm94eSBhcyBwcm94eX0gZnJvbSBcIi4vcmVhY3RpdmVQcm94eVwiO1xuLy9leHBvcnQge1JlYWN0aXZlVmFyIGFzIFZhcn0gZnJvbSBcIi4vcmVhY3RpdmVWYXJcIjtcblxuaW1wb3J0IHtub3RSZWFjdGl2ZSwgUmVhY3RpdmV9IGZyb20gXCIuL1JlYWN0aXZlXCI7XG5pbXBvcnQge3JlYWN0aXZlUHJvcGVydHl9IGZyb20gXCIuL3JlYWN0aXZlUHJvcGVydHlcIjtcbmltcG9ydCB7cmVhY3RpdmVPYmplY3R9IGZyb20gXCIuL3JlYWN0aXZlT2JqZWN0XCI7XG5pbXBvcnQge3JlYWN0aXZlUHJveHl9IGZyb20gXCIuL3JlYWN0aXZlUHJveHlcIjtcbmltcG9ydCB7UmVhY3RpdmVWYXJ9IGZyb20gXCIuL3JlYWN0aXZlVmFyXCI7XG5pbXBvcnQge0RlcGVuZGVuY3l9IGZyb20gXCIuL0RlcGVuZGVuY3lcIjtcblxuUmVhY3RpdmUubm90ID0gbm90UmVhY3RpdmU7XG5SZWFjdGl2ZS5wcm9wZXJ0eSA9IHJlYWN0aXZlUHJvcGVydHk7XG5SZWFjdGl2ZS5vYmplY3QgPSByZWFjdGl2ZU9iamVjdDtcblJlYWN0aXZlLnByb3h5ID0gcmVhY3RpdmVQcm94eTtcblJlYWN0aXZlLlZhciA9IFJlYWN0aXZlVmFyO1xuUmVhY3RpdmUuRGVwZW5kZW5jeSA9IERlcGVuZGVuY3k7XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0aXZlOyJdLCJuYW1lcyI6WyJSZWFjdGl2ZSJdLCJtYXBwaW5ncyI6IkFBRUEsSUFBSSxhQUFhLEdBQUcsQ0FBQyxDQUFDOztBQUV0QixNQUFNLFdBQVcsQ0FBQzs7SUFFZCxXQUFXLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRTtRQUM3QixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsVUFBVSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxFQUFFLENBQUM7UUFDL0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxhQUFhLEVBQUUsQ0FBQztLQUM3Qjs7SUFFRCxPQUFPLEdBQUc7UUFDTkEsVUFBUSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDMUNBLFVBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0tBQzFCOztJQUVELFVBQVUsR0FBRztRQUNULEtBQUssTUFB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
